This set of codes is currently set up to evaluate MERRA-21C using Lunar AERONET observations but can adapted for standard AERONET observations or other GEOS simulations.

The first step is to pre-process the model data using processaeronet.py. This code will generate csv files that include sampled model data according to the availability of observations. The code will loop through all AERONET files that match the specified pattern so that all stations are processed. There are command line arguments to change the filepath of the input model data and the output directory where you want to csv files stored. The AERONET observation files used were directly downloaded from the AERONET website (https://aeronet.gsfc.nasa.gov/) rather than ODS files generated for aerosol data assimilation. 

There are two codes that can be used to generate figures. plotagainstm21c.py will generate a global summary figure with a map showing the bias and correlation for AOD and Angtrom exponent for all available stations. plotsinglestationonly.py will produce two figures (one for AOD, one for Angstrom exponent) with a time series of the full period, a mean annual cycle, a 2d kernel density estimate with AERONET on the x axis and the model on the y axis. The flag "--include--merra2" will add a second experiment should you want to compare.
